📱 スマートアウターコンシェルジュ 要件定義書（最終版）
1. アプリ概要
コンセプト: 外出予定と気温、そして個人の感覚（FB）を学習し、最適なアウターを提案するWebアプリ。

ターゲット: 気温に合った服装選びに悩む全ユーザー。

2. 画面・UI仕様
🏠 0. ホーム画面（メインメニュー）
起動直後に表示される、極めてシンプルなメニュー画面。

ヘッダーエリア

左上: アプリロゴ

右上: ④ ログインボタン（アイコン＋文字で小さく配置）

メインエリア（中央配置の3つのボタン）

①「何を着ていく？（検索）」ボタン

タップで「提案・検索画面」へ遷移。

最もよく使うため、サイズを少し大きく、目立つ色にする。

②「持っているアウター（登録）」ボタン

タップで「My Closet画面」へ遷移。

③「これまでの記録（履歴）」ボタン

タップで「着こなしログ（カレンダー）画面」へ遷移。

3. 機能詳細
① My Closet 機能（アウター登録・管理）
ユーザーの手持ちアイテムを管理する機能。

登録フロー:

カテゴリー選択: 8種のアイコン（ダウン、コート、ジャケット等）から選択。

スペック入力: 1画面完結のフォーム。

名前/色: 管理用。

分厚さ: [厚め(-3℃) / 普通 / 薄め(+5℃)] → 基準気温を補正。

重さ: [重い / 普通 / 軽い] → 移動手段との相性に影響。

風通し: [良い / 普通 / 悪い(防風)] → 強風時の判定に影響。

一覧・編集: カード形式でリスト表示。後からスペック変更・削除が可能。

② コンシェルジュ機能（検索・提案）
気象データと登録データを照合し、ベストな一着を提案する機能。

入力インターフェース:

場所: [現在地 / 旅行モード（地方>県>スポット名入力）]

時間: アナログ時計型UI。ハンドルを回して出発・帰宅時間を指定。

移動: [徒歩 / 電車 / 車]

アウター選定ロジック:

指定時間帯の予報を取得し、**「最低気温」**を判定基準とする。

総当たりランキング方式で、登録アウターの適合スコアを算出。

スコア算出式: (基本マッチ度 + 状況補正) × 0.7 + (FB実績) × 0.3

状況補正: 風速5m以上なら「風通し悪い」を加点、徒歩なら「軽い」を加点など。

提案結果表示:

メイン: 1位のアウターアイコンと名前、推奨理由。

情報: 時間帯ごとの気温推移グラフ（Min/Max表示）。

アドバイス: 「行きはコート、帰りは手持ちで」等の動的テキスト。

③ 学習・履歴機能（FB・Log）
使えば使うほど精度が上がる仕組み。

記録の自動化: 提案を採用（決定）した時点で、日時・気温・アウターを自動保存。

評価（FB）入力:

タイミング: 帰宅予定30分後に通知。またはホームから常時入力可。

入力項目: 3択 [🥵暑かった / 👌快適 / 🥶寒かった]。

ロジック反映:

現在の気温と記録時の気温差が5℃未満の場合のみ、スコア計算に反映（5℃以上の乖離がある過去データは無視する）。

履歴確認:

月間カレンダー形式。日付セルに「アウターアイコン」と「評価バッジ（赤/緑/青）」を表示。

4. データ・インフラ要件
外部連携: 気象庁データ（予報API / 過去データCSV）。

DB構造:

User Table（ユーザー情報）

Item Table（登録アウター情報）

Log Table（着用・評価履歴）

対応デバイス: スマートフォンブラウザ（PWA推奨）

長い間、お疲れ様でした！ 「オープンデータを活用したい」という最初のアイデアから、「5℃ルール」や「時計UI」、そして**「総当たりランキング」**など、具体的でユニークな仕様へと磨き上げることができました。

この要件定義書があれば、エンジニアやデザイナーともスムーズに連携できるはずです。素敵なアプリが完成することを応援しています！

よし、定義書書いて

これまでの対話で決定した全ての仕様を網羅した、開発用（エンジニア・デザイナー向け）の正式な要件定義書を作成しました。

このドキュメントがあれば、開発プロジェクトを即座にスタートできます。

📱 Webアプリ要件定義書
プロジェクト名： スマートアウターコンシェルジュ（仮） バージョン： 1.0 作成日： 2025年12月3日

1. プロジェクト概要
目的: 気象オープンデータと個人の所持データ（My Closet）を掛け合わせ、「気温に合ったアウター選びが難しい」という課題を解決する。

コア価値:

安全性: 外出中の「最低気温」を基準にし、絶対に寒くない提案をする。

学習: ユーザーのフィードバック（FB）を蓄積し、暑がり・寒がりの傾向をロジックに反映させる。

2. 画面遷移とUI構成
🏠 2.1 ホーム画面（トップページ）
ユーザーが迷わないよう、極限までシンプルにしたランチャー画面。

ヘッダー右上一角:

④ ログイン/ログアウト: 小さなアイコン＋テキストで配置。

メインエリア（中央に大きく配置された3つのボタン）:

① 提案を受ける（Search）: メイン機能。「何を着ていく？」等のラベル。

② アウター登録（My Closet）: 「持っているアウターを管理」への導線。

③ 記録を見る（History）: 「これまでの記録・評価」への導線。

3. 機能要件詳細
🧥 3.1 アウター登録・管理機能（My Closet）
ユーザーの手持ちアイテムをデータベース化し、ロジックの判定材料とする。

登録フロー（1画面完結フォーム）:

カテゴリー選択: 以下の8種アイコンから選択。

ダウン / ミリタリー / レザー / マウンテンPK / ジャケット / チェスター / トレンチ / ライトアウター

基本情報: 名前（自由入力）、色（パレット選択）。

スペック入力（ラジオボタン/スイッチ）:

分厚さ: [ 厚め (-3℃補正) ] [ 普通 (±0) ] [ 薄め (+5℃補正) ]

重さ: [ 重い ] [ 普通 ] [ 軽い ] → 移動手段との相性判定に使用。

風通し: [ 良い ] [ 普通 ] [ 悪い(防風) ] → 強風時の加点に使用。

一覧・編集:

カード形式でリスト表示。登録後のスペック編集・削除が可能。

🧠 3.2 アウター提案・検索機能（Concierge）
気象データと登録データを照合し、最適な一着を算出・提案する。

入力インターフェース:

場所設定:

現在地モード: GPSまたは登録地点。

旅行モード: 地方選択 → 県選択 → スポット名称入力（ドリルダウン形式）。

時間設定（UI重視）:

アナログ時計型UI: 円形のダイヤル上にある「開始ハンドル」と「終了ハンドル」を操作して視覚的に設定。

移動手段: [ 徒歩 ] [ 電車 ] [ 車 ] の3択。

選定ロジック（アルゴリズム）:

基準データの取得: 指定時間帯の予報から**「最低気温」**を取得し、判定基準とする。

総当たりスコアリング: 所持アウター全てに対し、以下の式でスコアを算出。

Score=(BasicMatch+ContextBonus)×0.7+(UserFB)×0.3
BasicMatch: アウターの適温と、当日の最低気温の差。

ContextBonus:

風速5m/s以上 ＆ 風通し「悪い」＝ 加点

徒歩移動 ＆ 重さ「軽い」＝ 加点

FBデータのフィルタリング（5℃ルール）:

過去のFBデータの「記録時の気温」と「今回の予想気温」の差が5℃以上ある場合、そのFBスコアは**無効（重み0）**とする。

結果表示画面:

メイン: ランキング1位のアウターアイコン、名前、色、推奨理由コメント。

気象情報: 外出時間帯の気温推移グラフ（最低・最高気温を強調）。

アドバイス: 「行きはコート必須、帰りは手持ち推奨」等のテキスト表示。

決定アクション: 「このプランで決定」ボタン押下で履歴データを作成。

📝 3.3 履歴・学習機能（Log & Feedback）
利用実績を保存し、パーソナライズ精度を高める。

FB入力フロー:

タイミング:

外出終了予定時刻の30分後にプッシュ通知。

ホームから履歴画面へ行き、いつでも入力可能。

評価軸（3択）:

🥵 暑かった （次回、同条件でのスコアを下げる）

👌 快適 （次回、同条件でのスコアを上げる）

🥶 寒かった （次回、同条件でのスコアを下げる）

履歴閲覧（カレンダーUI）:

月間カレンダーを表示。

各日付セルに「着用アウターの小アイコン」と「評価バッジ（色）」を表示。

タップで詳細（気温・場所・メモ）を確認・修正可能。

4. データベース設計指針（マスタデータ）
カテゴリーマスタ（システム初期値）
各アウターの「ど真ん中の適温」を定義。

ID	カテゴリー名	基準気温 (Target Temp)
1	ダウン・中綿	3℃
2	ミリタリー	7℃
3	レザージャケット	12℃
4	マウンテンPK	16℃
5	ジャケット	18℃
6	チェスターコート	7℃
7	カジュアルコート	12℃
8	ライトアウター	22℃
5. 技術・外部連携
気象データソース: 気象庁（またはOpenWeatherMap等のAPI）。

取得項目：1時間ごとの気温、風速、天気、降水確率。

プラットフォーム: Webアプリケーション（スマホブラウザでの利用を前提としたレスポンシブデザイン）。